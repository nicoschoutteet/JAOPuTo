) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones)
# access helper function
JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = case_when(Variable == "verticalLoad" ~ "Load",
Variable == "generation" ~ "Generation",
Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = case_when(is.na(BiddingZone) ~
TRUE ~ BiddingZoneAbb),
BiddingZoneAbb = case_when(is.na(BiddingZone) ~ NA,
TRUE ~ BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$ReferenceNetPosition)
# access helper function
JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~
TRUE ~ .data$BiddingZoneAbb),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZone) ~ NA,
TRUE ~ .data$BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~
TRUE ~ .data$BiddingZoneAbb),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZone) ~ NA,
TRUE ~ .data$BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones)
View(df)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~
TRUE ~ .data$BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(.data$BiddingZone == NA ~
TRUE ~ .data$BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
TRUE ~ .data$BiddingZone)) |>
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ .data$BiddingZoneAbb,
TRUE ~ .data$BiddingZone)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
View(df)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
View(df)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZoneAbb) ~ "DE",
TRUE ~ .data$BiddingZone))) |>
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZoneAbb) ~ "DE",
TRUE ~ .data$BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
View(df)
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone))
View(df)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZone) ~ "DE",
TRUE ~ .data$BiddingZoneAbb),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone))) |>
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZone) ~ "DE",
TRUE ~ .data$BiddingZoneAbb),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone))) |>
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZoneAbb = dplyr::case_when(is.na(.data$BiddingZone) ~ "DE",
TRUE ~ .data$BiddingZoneAbb),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
View(df)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone))) |>
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
View(df)
View(df)
View(df)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone),
BiddingZoneAbb = dplyr::case_when(dplyr::starts_with(.data$BiddingZone, "Germany - ") ~ "DE",
TRUE ~ BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
# access helper function
df <- JAOPuTo_get(
dataset = "core",
endpoint = "api/data/d2CF",
start = start,
end = end
) |> # endpoint-specific data transformations
dplyr::mutate(dateTimeUtc = lubridate::ymd_hms(.data$dateTimeUtc, tz = "UTC"),
DateTime = lubridate::with_tz(.data$dateTimeUtc, "Europe/Brussels")) |>
dplyr::select(.data$DateTime,
tidyselect::starts_with("verticalLoad"),
tidyselect::starts_with("generation"),
tidyselect::starts_with("coreNetPosition")) |>
tidyr::pivot_longer(cols = -.data$DateTime,
names_to = "Variable",
values_to = "Value") |>
tidyr::separate(.data$Variable, "_", into = c("Variable", "BiddingZoneAbb")) |>
dplyr::left_join(CoreBiddingZones) |>
dplyr::mutate(Variable = dplyr::case_when(.data$Variable == "verticalLoad" ~ "Load",
.data$Variable == "generation" ~ "Generation",
.data$Variable == "coreNetPosition" ~ "Core Net Position"),
BiddingZone = dplyr::case_when(is.na(.data$BiddingZone) ~ paste0("Germany - ", .data$BiddingZoneAbb),
TRUE ~ .data$BiddingZone),
BiddingZoneAbb = dplyr::case_when(stringr::str_detect(.data$BiddingZone, "Germany - ") ~ "DE",
TRUE ~ BiddingZoneAbb)) |>
dplyr::select(.data$DateTime,
.data$BiddingZone,
.data$BiddingZoneAbb,
.data$Variable,
.data$Value)
View(df)
devtools::check()
devtools::document()
devtools::document()
