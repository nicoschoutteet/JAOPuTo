% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/JAOPuTo_get.R
\name{JAOPuTo_get}
\alias{JAOPuTo_get}
\title{JAOPuTo_get: helper function}
\usage{
JAOPuTo_get(
  dataset,
  endpoint,
  start,
  end,
  skip = 0L,
  take = 10000L,
  rate_limit_per_minute = 80,
  max_retries_429 = 5L,
  ...
)
}
\arguments{
\item{dataset}{Character string; dataset name in the API ("core", "coreID", "ibwt", "nordic", "swe")}

\item{endpoint}{Character string; specific endpoint under the dataset in the API}

\item{start}{Start datetime; (POSIXct, Date, or character convertible to POSIXct)}

\item{end}{End datetime; (POSIXct, Date, or character convertible to POSIXct)}

\item{skip}{Integer; initial pagination offset (per 2-day chunk)}

\item{take}{Integer; pagination size (number of records per API call)}

\item{rate_limit_per_minute}{Integer; maximum number of requests per minute}

\item{max_retries_429}{Integer; maximum number of retry attempts after HTTP 429 error}

\item{...}{Additional query parameters passed to the API
(e.g. `presolved = TRUE`).}
}
\value{
A tibble containing the combined data returned by all API requests.
}
\description{
Helper function that sends one or more GET requests to the JAO Publication Tool API,
automatically splitting requests into 2-day intervals, paginating over all results,
and applying rate limiting.
}
\details{
The function automatically splits requests into 2-day chunks because the API
does not allow long time intervals. Within each chunk, it paginates over all
results (in steps of `take`) until no more data are available. Rate limiting
is enforced to stay below the API limit of 100 requests per minute. Any
additional query parameters passed via `...` (e.g. `presolved`) are added to
each request.
}
\examples{
\dontrun{
# Zonder extra query params
JAOPuTo_get(
  dataset  = "core",
  endpoint = "api/data/maxNetPos",
  start    = "2025-01-01 00:00",
  end      = "2025-01-10 23:00"
)

# Met extra query param 'presolved'
JAOPuTo_get(
  dataset  = "core",
  endpoint = "api/data/finalDomains",
  start    = "2025-01-01 00:00",
  end      = "2025-01-10 23:00",
  presolved = TRUE
)
}
}
